(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],[,,,,,,,,function(t,e,o){t.exports=o(18)},,,,,function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){"use strict";o.r(e);var n=o(0),a=o.n(n),r=o(7),c=o.n(r),i=o(5),l=o(1),d=o(2),s=o(4),u=o(3),m=(o(13),o(14),function(t){Object(s.a)(o,t);var e=Object(u.a)(o);function o(t){var n;return Object(l.a)(this,o),(n=e.call(this)).state={value:""},n.handleClick=function(t){n.state.value?(n.props.addTodo(n.state.value),n.setState({value:""})):alert("\u041f\u0443\u0441\u0442\u043e\u0435 \u043d\u0435\u043b\u044c\u0437\u044f")},n.handleKeyPress=function(t){"Enter"===t.key&&n.handleClick(t)},n.handleInput=function(t){n.setState({value:t.target.value})},n}return Object(d.a)(o,[{key:"render",value:function(){return a.a.createElement("div",{className:"TodoAdd"},a.a.createElement("input",{className:"TodoAdd__input",placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438 \u0437\u0430\u0434\u0430\u0447\u0443",type:"text",value:this.state.value,onChange:this.handleInput,onKeyPress:this.handleKeyPress}),a.a.createElement("button",{className:"TodoAdd__button",onClick:this.handleClick},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}}]),o}(n.Component)),p=(o(15),function(t){Object(s.a)(o,t);var e=Object(u.a)(o);function o(){return Object(l.a)(this,o),e.apply(this,arguments)}return Object(d.a)(o,[{key:"render",value:function(){var t=this,e=this.props.filter;return a.a.createElement("div",{className:"TodoFilter"},a.a.createElement("button",{className:"TodoFilter__button",onClick:function(o){return e(t.filterAll)}},"\u0412\u0441\u0435"),a.a.createElement("button",{className:"TodoFilter__button",onClick:function(o){return e(t.filterUndone)}},"\u041d\u0435\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435"),a.a.createElement("button",{className:"TodoFilter__button",onClick:function(o){return e(t.filterDone)}},"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435"),a.a.createElement("button",{className:"TodoFilter__button",onClick:function(o){return e(t.filterImportant)}},"\u0412\u0430\u0436\u043d\u044b\u0435"))}},{key:"filterAll",value:function(t){return t}},{key:"filterUndone",value:function(t){return t.filter((function(t){return!t.done}))}},{key:"filterDone",value:function(t){return t.filter((function(t){return t.done}))}},{key:"filterImportant",value:function(t){return t.filter((function(t){return t.important&&!t.done}))}}]),o}(n.Component)),h=function(t){Object(s.a)(o,t);var e=Object(u.a)(o);function o(t){var n;return Object(l.a)(this,o),(n=e.call(this)).state={value:""},n.setFocus=function(){n.textInput.focus()},n.handleEdit=function(t){n.setState({value:t.target.value})},n.handleKeyPress=function(t){"Enter"===t.key&&n.handleDone(t)},n.handleDone=function(t){var e=n.props.props,o=e.id,a=e.done,r=e.important;n.state.value?(n.props.changeMode("VIEW"),n.props.props.editTodo(o,n.state.value,a,r)):alert("\u041f\u0443\u0441\u0442\u043e\u0435 \u043d\u0435\u043b\u044c\u0437\u044f")},n.state.value=t.props.value,n.textInput=a.a.createRef(),n}return Object(d.a)(o,[{key:"render",value:function(){var t=this;return a.a.createElement(n.Fragment,null,a.a.createElement("input",{className:"TodoItem__input TodoItem__input--edit",ref:function(e){t.textInput=e},type:"text",value:this.state.value,onKeyPress:this.handleKeyPress,onChange:this.handleEdit,onBlur:function(e){t.handleDone(e)}}),a.a.createElement("button",{className:"TodoItem__button TodoItem__button--edit",onClick:function(e){t.handleDone(e)}},a.a.createElement("img",{className:"TodoItem__icon",src:"svg/done.svg",alt:"icon"})))}},{key:"componentDidMount",value:function(){this.setFocus()}}]),o}(n.Component);var f=function(t){var e=t.img,o=t.large,n=t.buttonType,r=t.handleClick;return a.a.createElement("button",{className:"TodoItem__button ".concat(n," ").concat(o?"TodoItem__button--large":""),onClick:function(t){r()}},a.a.createElement("img",{className:"TodoItem__icon",src:e,alt:"button"}))};var v=function(t){var e=t.id,o=t.value,r=t.done,c=t.deleteTodo,i=t.editTodo,l=t.important,d=t.changeImportant;return a.a.createElement("div",{className:"TodoItem__controls"},r?null:a.a.createElement(n.Fragment,null,a.a.createElement(f,{img:"svg/edit.svg",buttonType:"TodoItem__button--edit",handleClick:i}),a.a.createElement(f,{img:"svg/important.svg",buttonType:"TodoItem__button--important",handleClick:function(){d(e,o,r,!l)}})),a.a.createElement(f,{large:r,img:"svg/trash.svg",buttonType:"TodoItem__button--trash",handleClick:function(){c(e)}}))},T=function(t){Object(s.a)(o,t);var e=Object(u.a)(o);function o(){return Object(l.a)(this,o),e.apply(this,arguments)}return Object(d.a)(o,[{key:"render",value:function(){var t=this.props,e=t.changeMode,o=t.changeImportant,r=this.props.props,c=r.id,i=r.value,l=r.done,d=r.important,s=r.deleteTodo,u=r.editTodo;return a.a.createElement(n.Fragment,null,a.a.createElement("div",{className:"TodoItem__value",onClick:function(t){u(c,i,!l,d)}},i),a.a.createElement(v,{value:i,important:d,done:l,deleteTodo:s,changeImportant:o,editTodo:function(){e("EDIT")},id:c}))}}]),o}(n.Component),b=(o(16),function(t){Object(s.a)(o,t);var e=Object(u.a)(o);function o(t){var n;return Object(l.a)(this,o),(n=e.call(this)).state={mode:"VIEW"},n.changeMode=function(t){n.setState({mode:t})},n.state.value=t.value,n}return Object(d.a)(o,[{key:"render",value:function(){var t,e=!this.props.done&&this.props.important,o="TodoItem ".concat(this.props.done?"TodoItem--done":" "," ").concat(e?"TodoItem--important":"");return"VIEW"===this.state.mode?t=a.a.createElement(T,{props:this.props,changeImportant:this.props.editTodo,changeMode:this.changeMode}):"EDIT"===this.state.mode&&(t=a.a.createElement(h,{props:this.props,changeMode:this.changeMode})),a.a.createElement("li",{className:o},t)}}]),o}(n.Component));o(17);var g=function(t){var e=t.todos,o=t.deleteTodo,n=t.editTodo,r=e.map((function(t){return a.a.createElement(b,{key:t.id,id:t.id,value:t.value,done:t.done,important:t.important,deleteTodo:o,editTodo:n})}));return a.a.createElement("ul",{className:"TodoList"},e.length>0?r:a.a.createElement("span",{className:"TodoList__empty"},"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442"))},E=function(t){Object(s.a)(o,t);var e=Object(u.a)(o);function o(t){var n;return Object(l.a)(this,o),(n=e.call(this)).saveToStorage=function(t){localStorage.setItem("todos",JSON.stringify(t))},n.changeFilter=function(t){n.setState({filter:t})},n.addTodo=function(t){n.setState((function(e){var o=Object(i.a)(e.todos);return o.push(n.createTodo(t,!1,!1,Math.random())),n.saveToStorage(o),{todos:o}}))},n.editTodo=function(t,e,o,a){n.setState((function(r){var c=Object(i.a)(r.todos).map((function(r){return r.id===t?n.createTodo(e,o,a,t):r}));return n.saveToStorage(c),{todos:c}}))},n.deleteTodo=function(t){n.setState((function(e){var o=Object(i.a)(e.todos),a=0;return o.forEach((function(e,o){e.id===t&&(a=o)})),o.splice(a,1),n.saveToStorage(o),{todos:o}}))},localStorage.getItem("todos")||localStorage.setItem("todos",JSON.stringify([n.createTodo("\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u0430\u044f",!0,!1,Math.random()),n.createTodo("\u041d\u0435\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u0430\u044f",!1,!1,Math.random()),n.createTodo("\u0412\u0430\u0436\u043d\u0430\u044f",!1,!0,Math.random()),n.createTodo("React TodoList",!0,!1,Math.random()),n.createTodo("\u041d\u0430\u0439\u0442\u0438 \u0440\u0430\u0431\u043e\u0442\u0443",!1,!1,Math.random()),n.createTodo("\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440",!0,!1,Math.random()),n.createTodo("\u041f\u043e\u0441\u043f\u0430\u0442\u044c",!1,!0,Math.random()),n.createTodo("\u0421\u0434\u043e\u0445\u043d\u0443\u0442\u044c",!1,!0,Math.random())])),n.state={todos:JSON.parse(localStorage.getItem("todos")),filter:function(){return n.state.todos}},n}return Object(d.a)(o,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(m,{addTodo:this.addTodo}),a.a.createElement(p,{filter:this.changeFilter,todos:this.state.todos}),a.a.createElement(g,{todos:this.state.filter(this.state.todos),deleteTodo:this.deleteTodo,editTodo:this.editTodo}))}},{key:"createTodo",value:function(t,e,o,n){return{value:t,done:e,important:o,id:n}}}]),o}(n.Component);c.a.render(a.a.createElement(E,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.475274b8.chunk.js.map